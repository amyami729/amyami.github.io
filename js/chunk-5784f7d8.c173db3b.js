(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5784f7d8"],{"04d1":function(e,t,r){var a=r("342f"),c=a.match(/firefox\/(\d+)/i);e.exports=!!c&&+c[1]},"129f":function(e,t){e.exports=Object.is||function(e,t){return e===t?0!==e||1/e===1/t:e!=e&&t!=t}},1799:function(e,t,r){"use strict";var a=r("7a23"),c={"aria-label":"Page navigation example"},n={class:"pagination"},o=Object(a["createElementVNode"])("span",{"aria-hidden":"true"},"«",-1),i=[o],s=["onClick"],d=Object(a["createElementVNode"])("span",{"aria-hidden":"true"},"»",-1),l=[d];function u(e,t,r,o,d,u){return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",null,[Object(a["createElementVNode"])("nav",c,[Object(a["createElementVNode"])("ul",n,[Object(a["createElementVNode"])("li",{class:Object(a["normalizeClass"])(["page-item",{disabled:!r.paginations.has_pre}])},[Object(a["createElementVNode"])("a",{class:"page-link",href:"#","aria-label":"Previous",onClick:t[0]||(t[0]=Object(a["withModifiers"])((function(e){return u.getProductPages(r.paginations.current_page-1)}),["prevent"]))},i)],2),(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],null,Object(a["renderList"])(r.paginations.total_pages,(function(e){return Object(a["openBlock"])(),Object(a["createElementBlock"])("li",{class:Object(a["normalizeClass"])(["page-item",{active:r.paginations.current_page===e}]),key:e},[Object(a["createElementVNode"])("a",{class:"page-link",href:"#",onClick:Object(a["withModifiers"])((function(t){return u.getProductPages(e)}),["prevent"])},Object(a["toDisplayString"])(e),9,s)],2)})),128)),Object(a["createElementVNode"])("li",{class:Object(a["normalizeClass"])(["page-item",{disabled:!r.paginations.has_next}])},[Object(a["createElementVNode"])("a",{class:"page-link",href:"#","aria-label":"Next",onClick:t[1]||(t[1]=Object(a["withModifiers"])((function(e){return u.getProductPages(r.paginations.current_page+1)}),["prevent"]))},l)],2)])])])}var p={props:{paginations:Object},methods:{getProductPages:function(e){this.$emit("emitGetProducts",e),document.body.scrollTop=document.documentElement.scrollTop=0}}},f=r("6b0d"),b=r.n(f);const g=b()(p,[["render",u]]);t["a"]=g},"1d1c":function(e,t,r){var a=r("23e7"),c=r("83ab"),n=r("37e8");a({target:"Object",stat:!0,forced:!c,sham:!c},{defineProperties:n})},"26e9":function(e,t,r){"use strict";var a=r("23e7"),c=r("e8b5"),n=[].reverse,o=[1,2];a({target:"Array",proto:!0,forced:String(o)===String(o.reverse())},{reverse:function(){return c(this)&&(this.length=this.length),n.call(this)}})},"4de4":function(e,t,r){"use strict";var a=r("23e7"),c=r("b727").filter,n=r("1dde"),o=n("filter");a({target:"Array",proto:!0,forced:!o},{filter:function(e){return c(this,e,arguments.length>1?arguments[1]:void 0)}})},"4e82":function(e,t,r){"use strict";var a=r("23e7"),c=r("59ed"),n=r("7b0b"),o=r("07fa"),i=r("577e"),s=r("d039"),d=r("addb"),l=r("a640"),u=r("04d1"),p=r("d998"),f=r("2d00"),b=r("512c"),g=[],h=g.sort,v=s((function(){g.sort(void 0)})),y=s((function(){g.sort(null)})),O=l("sort"),m=!s((function(){if(f)return f<70;if(!(u&&u>3)){if(p)return!0;if(b)return b<603;var e,t,r,a,c="";for(e=65;e<76;e++){switch(t=String.fromCharCode(e),e){case 66:case 69:case 70:case 72:r=3;break;case 68:case 71:r=4;break;default:r=2}for(a=0;a<47;a++)g.push({k:t+a,v:r})}for(g.sort((function(e,t){return t.v-e.v})),a=0;a<g.length;a++)t=g[a].k.charAt(0),c.charAt(c.length-1)!==t&&(c+=t);return"DGBEFHACIJK"!==c}})),j=v||!y||!O||!m,P=function(e){return function(t,r){return void 0===r?-1:void 0===t?1:void 0!==e?+e(t,r)||0:i(t)>i(r)?1:-1}};a({target:"Array",proto:!0,forced:j},{sort:function(e){void 0!==e&&c(e);var t=n(this);if(m)return void 0===e?h.call(t):h.call(t,e);var r,a,i=[],s=o(t);for(a=0;a<s;a++)a in t&&i.push(t[a]);i=d(i,P(e)),r=i.length,a=0;while(a<r)t[a]=i[a++];while(a<s)delete t[a++];return t}})},"512c":function(e,t,r){var a=r("342f"),c=a.match(/AppleWebKit\/(\d+)\./);e.exports=!!c&&+c[1]},5530:function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));r("b64b"),r("a4d3"),r("4de4"),r("e439"),r("4160"),r("159b"),r("dbb4"),r("1d1c"),r("7a82");function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function n(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}},"7a82":function(e,t,r){var a=r("23e7"),c=r("83ab"),n=r("9bf2");a({target:"Object",stat:!0,forced:!c,sham:!c},{defineProperty:n.f})},"841c":function(e,t,r){"use strict";var a=r("d784"),c=r("825a"),n=r("1d80"),o=r("129f"),i=r("577e"),s=r("dc4a"),d=r("14c3");a("search",(function(e,t,r){return[function(t){var r=n(this),a=void 0==t?void 0:s(t,e);return a?a.call(t,r):new RegExp(t)[e](i(r))},function(e){var a=c(this),n=i(e),s=r(t,a,n);if(s.done)return s.value;var l=a.lastIndex;o(l,0)||(a.lastIndex=0);var u=d(a,n);return o(a.lastIndex,l)||(a.lastIndex=l),null===u?-1:u.index}]}))},"87f5":function(e,t,r){"use strict";r("8c3f")},"8c3f":function(e,t,r){},"8db2":function(e,t,r){"use strict";r("9cc9")},"99af":function(e,t,r){"use strict";var a=r("23e7"),c=r("d039"),n=r("e8b5"),o=r("861d"),i=r("7b0b"),s=r("07fa"),d=r("8418"),l=r("65f0"),u=r("1dde"),p=r("b622"),f=r("2d00"),b=p("isConcatSpreadable"),g=9007199254740991,h="Maximum allowed index exceeded",v=f>=51||!c((function(){var e=[];return e[b]=!1,e.concat()[0]!==e})),y=u("concat"),O=function(e){if(!o(e))return!1;var t=e[b];return void 0!==t?!!t:n(e)},m=!v||!y;a({target:"Array",proto:!0,forced:m},{concat:function(e){var t,r,a,c,n,o=i(this),u=l(o,0),p=0;for(t=-1,a=arguments.length;t<a;t++)if(n=-1===t?o:arguments[t],O(n)){if(c=s(n),p+c>g)throw TypeError(h);for(r=0;r<c;r++,p++)r in n&&d(u,p,n[r])}else{if(p>=g)throw TypeError(h);d(u,p++,n)}return u.length=p,u}})},"9cc9":function(e,t,r){},addb:function(e,t){var r=Math.floor,a=function(e,t){var o=e.length,i=r(o/2);return o<8?c(e,t):n(a(e.slice(0,i),t),a(e.slice(i),t),t)},c=function(e,t){var r,a,c=e.length,n=1;while(n<c){a=n,r=e[n];while(a&&t(e[a-1],r)>0)e[a]=e[--a];a!==n++&&(e[a]=r)}return e},n=function(e,t,r){var a=e.length,c=t.length,n=0,o=0,i=[];while(n<a||o<c)n<a&&o<c?i.push(r(e[n],t[o])<=0?e[n++]:t[o++]):i.push(n<a?e[n++]:t[o++]);return i};e.exports=a},ae6f:function(e,t,r){"use strict";var a=r("7a23"),c=function(e){return Object(a["pushScopeId"])("data-v-a94e67ac"),e=e(),Object(a["popScopeId"])(),e},n={class:"card"},o=["src"],i={class:"card-body"},s={class:"card-ti"},d={class:"product-content"},l={class:"product-price"},u={class:"original-price"},p={class:"on-sale-price"},f={class:"card-btn-group"},b={class:"fas fa-heart",ref:"favoriteI"},g=c((function(){return Object(a["createElementVNode"])("i",{class:"fas fa-shopping-cart"},null,-1)})),h=[g];function v(e,t,r,c,g,v){var y=Object(a["resolveComponent"])("router-link");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",n,[Object(a["createVNode"])(y,{to:"/product-info/".concat(r.product.id),class:"card-img-link"},{default:Object(a["withCtx"])((function(){return[Object(a["createElementVNode"])("img",{src:r.product.imageUrl,class:"card-img"},null,8,o)]})),_:1},8,["to"]),Object(a["createElementVNode"])("div",i,[Object(a["createElementVNode"])("div",s,[Object(a["createVNode"])(y,{to:"/product-info/".concat(r.product.id),class:"card-title"},{default:Object(a["withCtx"])((function(){return[Object(a["createElementVNode"])("span",null,Object(a["toDisplayString"])(r.product.title),1)]})),_:1},8,["to"])]),Object(a["createElementVNode"])("div",d,[Object(a["createElementVNode"])("div",l,[Object(a["createElementVNode"])("del",u,Object(a["toDisplayString"])(e.$filters.currency(r.product.origin_price)),1),Object(a["createElementVNode"])("p",p,Object(a["toDisplayString"])(e.$filters.currency(r.product.price)),1)]),Object(a["createElementVNode"])("div",f,[Object(a["createElementVNode"])("button",{class:"btn-favorite",ref:"btnFavorite",onClick:t[0]||(t[0]=function(e){return v.updateStatus(r.product)})},[Object(a["createElementVNode"])("i",b,null,512)],512),Object(a["createElementVNode"])("button",{class:"btn-cart",onClick:t[1]||(t[1]=function(e){return v.addToCart(r.product.id)})},h)])])])])}var y=r("5530"),O=(r("4160"),r("159b"),r("5502")),m={props:["product"],data:function(){return{isSave:!1}},methods:{addToCart:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.$store.dispatch("shoppingCart/addItemToCart",{id:e,qty:t})},updateStatus:function(e){var t=this;t.isSave=!t.isSave,this.isSave?(t.$refs.btnFavorite.style.background="white",t.$refs.favoriteI.style.color="red",this.$store.dispatch("favorite/addItemToFavorite",e)):(t.$refs.btnFavorite.style.background="",t.$refs.favoriteI.style.color="",this.$store.dispatch("favorite/removeFavoriteItem",e))}},computed:Object(y["a"])({},Object(O["c"])("favorite",{favorites:function(e){return e.favorites}})),mounted:function(){var e=this;this.favorites.forEach((function(t){e.product.id===t.id&&(e.isSave=!0,e.$refs.btnFavorite.style.background="white",e.$refs.favoriteI.style.color="red")}))},created:function(){this.$store.dispatch("favorite/getFavoriteContents")}},j=(r("87f5"),r("6b0d")),P=r.n(j);const E=P()(m,[["render",v],["__scopeId","data-v-a94e67ac"]]);t["a"]=E},b640:function(e,t,r){"use strict";r.r(t);r("ac1f"),r("841c");var a=r("7a23"),c=function(e){return Object(a["pushScopeId"])("data-v-7881409b"),e=e(),Object(a["popScopeId"])(),e},n={class:"products"},o={class:"products-header"},i={class:"products-title"},s={class:"list-icon"},d=c((function(){return Object(a["createElementVNode"])("i",{class:"fas fa-list"},null,-1)})),l=Object(a["createTextVNode"])("共"),u={class:"allProducts-length"},p=Object(a["createTextVNode"])("件商品"),f={class:"products-filter"},b={class:"search-form"},g=c((function(){return Object(a["createElementVNode"])("label",{for:"search",class:"searchLabel"},[Object(a["createElementVNode"])("i",{class:"fas fa-search"})],-1)})),h=["value"],v=c((function(){return Object(a["createElementVNode"])("option",{selected:"true",value:"0"},"最新上架",-1)})),y=c((function(){return Object(a["createElementVNode"])("option",{value:"1"},"價格: 高到低",-1)})),O=c((function(){return Object(a["createElementVNode"])("option",{value:"2"},"價格: 低到高",-1)})),m=[v,y,O],j={class:"search-bar"},P=c((function(){return Object(a["createElementVNode"])("div",{class:"shop-icon"},[Object(a["createElementVNode"])("i",{class:"fas fa-store"})],-1)})),E=c((function(){return Object(a["createElementVNode"])("div",{class:"septalLine"},null,-1)})),V={class:"product-category"},N=["onClick"],k={class:"card-otherContent"},S={key:0},C={class:"product-pagination"};function w(e,t,r,c,v,y){var O=Object(a["resolveComponent"])("loading"),w=Object(a["resolveComponent"])("card"),B=Object(a["resolveComponent"])("pagination");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",n,[Object(a["createVNode"])(O,{active:v.isLoading},null,8,["active"]),Object(a["createElementVNode"])("div",o,[Object(a["createElementVNode"])("div",i,[Object(a["createElementVNode"])("div",s,[d,Object(a["createElementVNode"])("h3",null,Object(a["toDisplayString"])(v.currentCategory),1)]),Object(a["createElementVNode"])("span",null,[l,Object(a["createElementVNode"])("i",u,Object(a["toDisplayString"])(v.displayProducts.length),1),p])]),Object(a["createElementVNode"])("div",f,[Object(a["createElementVNode"])("div",b,[g,Object(a["createElementVNode"])("input",{class:"form-control products-search",maxlength:"18",autocomplete:"off",type:"search",value:v.search,onInput:t[0]||(t[0]=function(e){return v.search=e.target.value}),onKeyup:t[1]||(t[1]=Object(a["withKeys"])((function(){return y.getProductsBySearch&&y.getProductsBySearch.apply(y,arguments)}),["enter"])),placeholder:"搜尋",id:"search"},null,40,h)]),Object(a["createElementVNode"])("select",{class:"products-price",onChange:t[2]||(t[2]=function(){return y.updateSort&&y.updateSort.apply(y,arguments)})},m,32),v.isShowSearchBar?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",{key:0,class:"search-popover",onClick:t[3]||(t[3]=function(){return y.getProductsBySearch&&y.getProductsBySearch.apply(y,arguments)})},[Object(a["createElementVNode"])("div",j,[P,Object(a["createTextVNode"])(' 搜尋 "'+Object(a["toDisplayString"])(v.search)+'" 商品 ',1)])])):Object(a["createCommentVNode"])("",!0)])]),E,Object(a["createElementVNode"])("div",V,[(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],null,Object(a["renderList"])(v.allCategory,(function(e,t){return Object(a["openBlock"])(),Object(a["createElementBlock"])("button",{class:Object(a["normalizeClass"])(["product-category-btn btn",{categoryActive:v.currentCategory===e}]),onClick:function(t){return y.updateCategoryId(e)},key:t},Object(a["toDisplayString"])(e),11,N)})),128))]),(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],null,Object(a["renderList"])(y.getProductsByPage(v.currentPage,v.displayProducts),(function(e){return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",{class:"card-wrapper",key:e.id},[Object(a["createVNode"])(w,{product:e},null,8,["product"])])})),128)),Object(a["createElementVNode"])("div",k,[0===v.displayProducts.length?(Object(a["openBlock"])(),Object(a["createElementBlock"])("p",S,'查無有關 "'+Object(a["toDisplayString"])(v.search)+'" 的商品',1)):Object(a["createCommentVNode"])("",!0)]),Object(a["createElementVNode"])("div",C,[Object(a["createVNode"])(B,{class:"pagination-inner",paginations:v.pagination,onEmitGetProducts:y.updatePagination},null,8,["paginations","onEmitGetProducts"])])])}r("277d");var B=r("6b75");function I(e){if(Array.isArray(e))return Object(B["a"])(e)}r("a4d3"),r("e01a"),r("d3b7"),r("d28b"),r("3ca3"),r("ddb0"),r("a630");function x(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}var D=r("06c5");function $(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _(e){return I(e)||x(e)||Object(D["a"])(e)||$()}r("99af"),r("fb6a"),r("4de4"),r("c975"),r("4e82"),r("26e9");var A=r("ae6f"),Q=r("1799"),T={components:{card:A["a"],pagination:Q["a"]},data:function(){return{displayQueryParameters:{categoryId:"全部商品",sortBy:"time",order:"asc"},allProducts:[],displayProducts:[],allCategory:["全部商品","特色推薦","經典設計","木椅","塑膠椅","金屬椅","沙發"],currentCategory:"全部商品",categoryId:"",pagination:{},currentPage:"",isLoading:!1,search:"",isShowSearchBar:!1}},methods:{initAllProducts:function(){var e=this,t=this,r="".concat("https://vue-course-api.hexschool.io","/api/").concat("wenrong","/products/all");this.isLoading=!0,this.$http.get(r).then((function(r){e.isLoading=!1,t.allProducts=r.data.products,t.displayProducts=t.allProducts,t.updatePagination(),t.getParameterValueOfCategoryId()}))},getAllProducts:function(){var e=this;e.displayProducts=e.allProducts,e.currentCategory="全部商品",e.updatePagination()},updatePagination:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=this,r=12,a=Math.ceil(t.displayProducts.length/r);t.pagination["total_pages"]=a,t.currentPage=e,t.currentPage===a?t.pagination["has_next"]=!1:t.pagination["has_next"]=!0,1===t.currentPage?t.pagination["has_pre"]=!1:t.pagination["has_pre"]=!0,t.pagination["current_page"]=e},getProductsByPage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=12;return t.slice(e*r-r,e*r)},getProductsBySearch:function(){var e=this;e.search&&(this.$router.push({query:{categoryId:"全部商品",keyword:e.search}}),e.currentCategory="全部商品",e.displayProducts=e.allProducts.filter((function(t){return-1!==t.title.indexOf(e.search)})),e.isShowSearchBar=!1),e.updatePagination()},updateCategoryId:function(e){var t=this;t.currentCategory=e,t.displayQueryParameters.categoryId=e,t.updateDisplayProducts()},getParameterValueOfCategoryId:function(){var e=this;e.categoryId=this.$route.query.categoryId,e.updateCategoryId(e.categoryId)},updateSort:function(){var e=this,t=document.querySelector(".products-price");"0"===t.value?(e.displayQueryParameters.sortBy="time",e.displayQueryParameters.order="asc"):"1"===t.value?(e.displayQueryParameters.sortBy="price",e.displayQueryParameters.order="desc"):"2"===t.value&&(e.displayQueryParameters.sortBy="price",e.displayQueryParameters.order="asc"),e.updateDisplayProducts()},updateDisplayProducts:function(){var e,t=this;this.$router.push({query:{categoryId:t.displayQueryParameters.categoryId,order:t.displayQueryParameters.order,sortBy:t.displayQueryParameters.sortBy}}),e="全部商品"===t.displayQueryParameters.categoryId?_(t.allProducts):t.allProducts.filter((function(e){return e.category===t.displayQueryParameters.categoryId}));var r=t.displayQueryParameters.sortBy;"price"===r&&(e=e.sort((function(e,t){return e.price-t.price}))),"desc"===t.displayQueryParameters.order&&(e=e.reverse()),t.displayProducts=e,t.updatePagination()}},watch:{search:function(e){""===e?(this.$router.push({query:{}}),this.$router.push({query:{categoryId:"全部商品"}}),this.getAllProducts(),this.isShowSearchBar=!1):this.isShowSearchBar=!0}},created:function(){this.initAllProducts(),this.getParameterValueOfCategoryId()}},F=(r("8db2"),r("6b0d")),L=r.n(F);const q=L()(T,[["render",w],["__scopeId","data-v-7881409b"]]);t["default"]=q},b64b:function(e,t,r){var a=r("23e7"),c=r("7b0b"),n=r("df75"),o=r("d039"),i=o((function(){n(1)}));a({target:"Object",stat:!0,forced:i},{keys:function(e){return n(c(e))}})},c975:function(e,t,r){"use strict";var a=r("23e7"),c=r("4d64").indexOf,n=r("a640"),o=[].indexOf,i=!!o&&1/[1].indexOf(1,-0)<0,s=n("indexOf");a({target:"Array",proto:!0,forced:i||!s},{indexOf:function(e){return i?o.apply(this,arguments)||0:c(this,e,arguments.length>1?arguments[1]:void 0)}})},d998:function(e,t,r){var a=r("342f");e.exports=/MSIE|Trident/.test(a)},dbb4:function(e,t,r){var a=r("23e7"),c=r("83ab"),n=r("56ef"),o=r("fc6a"),i=r("06cf"),s=r("8418");a({target:"Object",stat:!0,sham:!c},{getOwnPropertyDescriptors:function(e){var t,r,a=o(e),c=i.f,d=n(a),l={},u=0;while(d.length>u)r=c(a,t=d[u++]),void 0!==r&&s(l,t,r);return l}})},e439:function(e,t,r){var a=r("23e7"),c=r("d039"),n=r("fc6a"),o=r("06cf").f,i=r("83ab"),s=c((function(){o(1)})),d=!i||s;a({target:"Object",stat:!0,forced:d,sham:!i},{getOwnPropertyDescriptor:function(e,t){return o(n(e),t)}})}}]);
//# sourceMappingURL=chunk-5784f7d8.c173db3b.js.map